<!DOCTYPE html>
<html>
<head>
  <title>Puppeteer Mocha</title>
</head>
<body>
    <!-- Canvas placeholder -->
    <div id="screen"></div>
    <script type="module">
        import * as me from './lib/melonjs.module.js';

        me.boot();
        me.video.init(800, 600, {parent : "screen", scale : "auto", renderer : me.video.AUTO});

        me.loader.setOptions({crossOrigin : "anonymous"});

        // a dummy sprite object
        const entity_sprite = new me.Sprite(0, 0, {
            framewidth: 32,
            frameheight: 64,
            image: me.video.createCanvas(32, 64),
            anchorPoint: { x: 0, y: 0 }
        });

        // a test entity object
        globalThis.entity = new me.Entity(0, 0, {
            width: 32,
            height: 64,
            image: entity_sprite,
            shapes: [],
        });

        // all current test are based on anchorpoint being 0, 0
        globalThis.entity.renderable.anchorPoint.set(0, 0);

        // a default rect shape
        globalThis.defaultRectShape = new me.Rect(10, 10, 32, 64);

  </script>
</body>
</html>